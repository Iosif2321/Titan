# Описание и цели проекта TITAN

Проект предназначен исключительно для прогнозирования направления движения криптовалюты BTCUSDT.
MVP работает только на таймфрейме 1 минута и предсказывает 1 минуту вперед.

## Базовые принципы

- Проект работает 24/7/365 автономно и постоянно адаптируется к рынку.
- Минимум констант и статичных правил; параметры должны подстраиваться в динамике.
- Идеальная цель — 100% точность и 100% уверенность (как ориентир).

## Архитектура (MVP)

MVP состоит из трех базовых моделей: TRENDVIC, OSCILLATOR и VOLUMEMETRIX.
Каждая модель получает общий базовый набор фич и свои специфические фичи,
чтобы анализировать разные аспекты рынка.

### Головы и решения

У каждой модели две головы: UP и DOWN.
FLAT допустим, но нежелателен и используется только когда модели не могут
дать уверенный UP/DOWN. FLAT не является третьим направлением.

### Базовая архитектура

Multi-scale **TCN** (Temporal Convolutional Network).

## Система паттернов (опыт моделей)

Паттерны хранят полный объем данных о решениях и их последствиях.
Паттерны не бывают "верными" или "неверными" — это документированный опыт,
который модели должны уметь записывать → читать → интерпретировать.

### Структура паттерна

- Условия рынка — неизменяемые (задаются при создании паттерна).
- Модель и ее состояние — для каждой модели отдельно; при использовании
  паттерна записываются данные только той модели, которая его использовала
  (накопление через запятую).
- Прогноз модели и показатели прогнозирования (данные модели) — пополняется
  каждый раз при использовании.
- Сверка факт/прогноз — пополняется каждый раз при использовании.
- Общее число использований.

## Этапы работ (приоритет)

1. [] Ядро проекта: сбор данных, расчет фич, инференс, решение, хранилище паттернов.
2. [] Максимально достоверный и подробный отчетный тест на исторических данных,
   чтобы можно было "дрессировать" модель.
   . Энсамблирование и калибровка.
3. [] Паттерн‑система и интеграция.
4. [] Мониторинг + автоматическое переобучение.
   Энсамблирование и калибровка.
5. [] Паттерн‑система и интеграция.
6. [] Мониторинг + автоматическое переобучение.
   . Энсамблирование и калибровка.
7. [] Паттерн‑система и интеграция.
8. [] Мониторинг + автоматическое переобучение.


**Полный набор фич, который генерируется:**

* **close**
* **return_1**
* **log_return_1**
* **ma_fast**
* **ma_slow**
* **ma_delta**
* **volatility**
* **volatility_z**
* **volume**
* **volume_z**
* **rsi**

Источник: **stream.py**

**Что реально использует каждая модель:**

* **TRENDVIC** : **ma_delta**, **volatility**, **close**
  (**heuristic.py**)
* **OSCILLATOR** : **rsi**
  (**heuristic.py**)
* **VOLUMEMETRIX** : **volume_z**, **return_1**
  (**heuristic.py**)

**Для паттернов (условия рынка) используются:**

* тренд: **ma_delta** + **volatility** + **close**
* волатильность: **volatility_z**
* объем: **volume_z**
  (**stream.py** функция **build_conditions**)
